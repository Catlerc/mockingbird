"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

exports.__esModule = true;
exports.default = void 0;

var _pathOr = _interopRequireDefault(require("@tinkoff/utils/object/pathOr"));

var _currencies = _interopRequireDefault(require("@platform-ui/money/currencies.json"));

var _formatUtils = require("@platform-ui/format-utils");

var _parse = require("./numberInputUtils/parse");

var currencySymbolOrSelf = function currencySymbolOrSelf(currency) {
  return (0, _pathOr.default)([currency, 'symbol'], currency, _currencies.default);
};

var unitsPostfix = function unitsPostfix(value, units) {
  var postfix;

  switch (true) {
    case typeof units === 'function':
      postfix = units(value);
      break;

    case (0, _parse.isEmptyValue)(value):
      return '';

    case Array.isArray(units):
      postfix = units[(0, _formatUtils.plural)(value)];
      break;

    default:
      postfix = currencySymbolOrSelf(units);
  }

  return postfix ? "\xA0" + postfix : '';
};

var _default = unitsPostfix;
exports.default = _default;