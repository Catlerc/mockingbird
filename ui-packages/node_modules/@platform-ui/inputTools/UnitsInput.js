"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

exports.__esModule = true;
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));

var _react = _interopRequireWildcard(require("react"));

var _unitsPostfix = _interopRequireDefault(require("./unitsPostfix"));

var _PrefixPostfixInput = _interopRequireDefault(require("./PrefixPostfixInput"));

var _numberInputHOC = _interopRequireDefault(require("./numberInputHOC"));

var _placeholderHOC = _interopRequireDefault(require("./placeholderHOC"));

var _InlinePlaceholder = _interopRequireDefault(require("./InlinePlaceholder/InlinePlaceholder"));

var _parse = require("./numberInputUtils/parse");

var _format = require("./numberInputUtils/format");

var _excluded = ["prefix", "units", "emptyValue"];
var NumberInput = (0, _numberInputHOC.default)((0, _placeholderHOC.default)(_InlinePlaceholder.default)(_PrefixPostfixInput.default));
var UnitsInput = /*#__PURE__*/(0, _react.forwardRef)(function (_ref, forwardedRef) {
  var prefix = _ref.prefix,
      units = _ref.units,
      emptyValueProp = _ref.emptyValue,
      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);
  var emptyValue = (0, _parse.getEmptyValue)((0, _extends2.default)({
    emptyValue: emptyValueProp
  }, props));
  var emptyValueFormatted = (0, _format.formatNumber)(emptyValue, props);
  var emptyValuePostfix = (0, _unitsPostfix.default)(emptyValue, units);
  var placeholder = "" + emptyValueFormatted + emptyValuePostfix;
  var postfix = (0, _unitsPostfix.default)(props.value, units);
  return /*#__PURE__*/_react.default.createElement(NumberInput, Object.assign({
    ref: forwardedRef
  }, props, {
    prefix: prefix,
    postfix: postfix,
    placeholder: placeholder
  }));
});
UnitsInput.defaultProps = (0, _extends2.default)({}, NumberInput.defaultProps);
var _default = UnitsInput;
exports.default = _default;