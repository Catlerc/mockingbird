"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

exports.__esModule = true;
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _dataQa = _interopRequireDefault(require("@platform-ui/dataQa"));

var _CompaniesItem = _interopRequireDefault(require("./CompaniesItem"));

var _CompaniesModule = _interopRequireDefault(require("./Companies.module.css"));

var Companies = function Companies(props) {
  var companies = props.companies,
      onClick = props.onClick,
      mobile = props.mobile;
  var sortedCompanies = companies.reduce(function (acc, company) {
    var key = company.group || 'undefined';
    acc[key] = [].concat(acc[key] || [], [company]);
    return acc;
  }, {});
  return /*#__PURE__*/_react.default.createElement("div", Object.assign({
    className: _CompaniesModule.default.root
  }, (0, _dataQa.default)(props)), Object.keys(sortedCompanies).map(function (groupName, groupIndex) {
    return (
      /*#__PURE__*/
      // eslint-disable-next-line react/no-array-index-key
      _react.default.createElement(_react.Fragment, {
        key: groupIndex
      }, groupName !== 'undefined' ? /*#__PURE__*/_react.default.createElement("div", {
        className: _CompaniesModule.default.groupName
      }, groupName) : null, groupIndex === 0 && groupName === 'undefined' ? /*#__PURE__*/_react.default.createElement("div", {
        className: _CompaniesModule.default.groupName
      }, "\u041A\u043E\u043C\u043F\u0430\u043D\u0438\u0438") : null, sortedCompanies[groupName].map(function (itemProps, itemIndex) {
        var key = groupIndex + "-" + itemIndex;
        return /*#__PURE__*/_react.default.createElement(_CompaniesItem.default, Object.assign({
          key: key,
          onClick: onClick
        }, itemProps, {
          mobile: mobile
        }));
      }))
    );
  }));
};

var _default = Companies;
exports.default = _default;