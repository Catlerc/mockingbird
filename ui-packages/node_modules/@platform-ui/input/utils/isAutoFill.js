"use strict";

exports.__esModule = true;
exports.IS_SERVER_RUNTIME = void 0;
exports.default = _default;
exports.isMS = void 0;

/* eslint-disable compat/compat */
var IS_SERVER_RUNTIME = !(typeof window !== 'undefined' && window.document);
exports.IS_SERVER_RUNTIME = IS_SERVER_RUNTIME;

var memoizeUserAgent = function memoizeUserAgent(fn) {
  if (IS_SERVER_RUNTIME) {
    return function () {
      return false;
    };
  }

  var result;
  return function () {
    if (result === undefined) {
      result = fn();
    }

    return result;
  };
}; // IE или Edge


var isMS = memoizeUserAgent(function () {
  return Boolean(navigator.userAgent.match(/MSIE/i) || navigator.userAgent.match(/Trident/i) || navigator.userAgent.match(/Edge/i));
});
exports.isMS = isMS;
var EDGE_AUTO_FILL_FLAG = 'AutoFill_FillEvent';
/**
 * https://
 * Проверки проверенно работают только для edge и chrome. В сафари автозаполняются только поля в фокусе, а в
 * firefox автозаполнение не заработало.
 */

function _default(event) {
  var native = event.nativeEvent;
  return isMS() && event.detail === EDGE_AUTO_FILL_FLAG || !isMS() && native.type === 'input' && typeof window.InputEvent !== 'undefined' && !(native instanceof window.InputEvent);
}
/* eslint-enable */
