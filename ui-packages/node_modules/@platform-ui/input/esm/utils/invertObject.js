/**
 * Returns a new object with the keys of the given object as values, and the
 * values of the given object, which are coerced to strings, as keys. Note
 * that the last key found is preferred when handling the same value.
 * @param {Object} obj The object or array to invert
 * @return {Object} out A new object
 */
export default (obj => {
  const keys = Object.keys(obj);
  const len = keys.length;
  const out = {};
  let idx = 0;

  while (idx < len) {
    const key = keys[idx];
    out[obj[key]] = key;
    idx += 1;
  }

  return out;
});