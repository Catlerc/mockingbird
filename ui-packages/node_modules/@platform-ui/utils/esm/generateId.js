const memo = {};

const getName = Component => Component && Component.constructor && Component.constructor.name || 'TCSid';

class Generator {
  constructor(name) {
    this.createId = () => this.name + this.counter++;

    this.name = name;
    this.counter = 1;
  }

}

const generateId = Component => {
  const componentName = getName(Component);
  let generator = memo[componentName];

  if (!generator) {
    generator = new Generator(componentName);
    memo[componentName] = generator;
  }

  return generator.createId();
};

export default generateId;