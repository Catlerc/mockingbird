"use strict";

exports.__esModule = true;
exports.default = void 0;

function useTags(value, params) {
  if (params === void 0) {
    params = {};
  }

  var _params = params,
      _params$empty = _params.empty,
      empty = _params$empty === void 0 ? function (tag) {
    return !tag;
  } : _params$empty,
      _params$equals = _params.equals,
      equals = _params$equals === void 0 ? function (tagA, tagB) {
    return tagA === tagB;
  } : _params$equals;

  function canAdd(tag) {
    return !empty(tag) && !value.some(function (t) {
      return equals(t, tag);
    });
  }

  function addTag(tag) {
    if (!canAdd(tag)) {
      return value;
    }

    return [].concat(value, [tag]);
  }

  function removeTag(index) {
    var newValue = [].concat(value);
    newValue.splice(index, 1);
    return newValue;
  }

  function replaceTag(index, newTag) {
    if (equals(value[index], newTag)) {
      return value;
    }

    if (!canAdd(newTag)) {
      return removeTag(index);
    }

    var newValue = [].concat(value);
    newValue.splice(index, 1, newTag);
    return newValue;
  }

  return {
    addTag: addTag,
    removeTag: removeTag,
    replaceTag: replaceTag
  };
}

var _default = useTags;
exports.default = _default;