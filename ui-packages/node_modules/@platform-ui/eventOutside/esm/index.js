function createEventOutsideListener(domNode, callback) {
  return event => {
    if (!domNode.contains(event.target)) {
      callback(event);
    }
  };
}

function addEventOutsideListener(domNode, eventType, callback, options) {
  const outsideCallback = createEventOutsideListener(domNode, callback);
  document.addEventListener(eventType, outsideCallback, options);
  return () => {
    document.removeEventListener(eventType, outsideCallback, options);
  };
}

export default addEventOutsideListener;